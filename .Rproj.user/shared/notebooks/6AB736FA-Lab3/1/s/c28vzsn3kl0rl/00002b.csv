"0",""
"0","covid_data <- covid_data %>%"
"0","  group_by(state, county) %>% "
"0","  arrange(state, county, date) %>% "
"0","  mutate(new_cases = cases - lag(cases, default = 0)) %>%  "
"0","  ungroup()"
"0",""
"0","state_covid <- covid_data %>%"
"0","  filter(state %in% c(""New York"", ""Ohio"", ""Colorado"", ""Alabama"")) %>%  "
"0","  group_by(date, state) %>%"
"0","  summarise(daily_new_cases = sum(new_cases, na.rm = TRUE)) %>% "
"0","  ungroup() %>%"
"0","  arrange(state, date) %>%"
"0","  group_by(state) %>%"
"0","  mutate(roll = zoo::rollmean(daily_new_cases, k = 7, fill = NA, align = ""right"")) %>%"
"0","  ungroup()"
"2","`summarise()` has grouped output by 'date'. You can override using the `.groups` argument."
"0","ggplot(state_covid, aes(x = date)) +"
"0","  geom_col(aes(y = daily_new_cases), fill = ""pink"", col = NA) +  "
"0","  geom_line(aes(y = roll), col = ""darkred"", size = 1) +  "
"0","  theme_linedraw() +"
"0","  facet_wrap(~ state, nrow = 2, scales = ""free_y"") +  "
"0","  labs("
"0","    title = ""Daily COVID-19 Cases with 7-Day Rolling Average"","
"0","    x = ""Date"","
"0","    y = ""New Cases"""
"0","  )"
