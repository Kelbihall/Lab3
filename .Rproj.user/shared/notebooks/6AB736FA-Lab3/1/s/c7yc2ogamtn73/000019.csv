"0","library(readr)"
"0","library(flextable)"
"0",""
"0","covid_data <- read_csv(""https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv"")"
"2","[1mRows: [22m[34m2502832[39m [1mColumns: [22m[34m6[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m  (3): county, state, fips
[32mdbl[39m  (2): cases, deaths
[34mdate[39m (1): date"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"0","if (!exists(""my.state"")) my.state <- ""Colorado"""
"0","if (!exists(""my.date"")) my.date <- as.Date(""2022-02-01"")"
"0",""
"0","colorado <- covid_data[covid_data$state == my.state, ]"
"0",""
"0","if (nrow(colorado) == 0) {"
"0","  stop(""Error: No data found for 'my.state'. Check your dataset."")"
"0","}"
"0",""
"0","colorado <- colorado[order(colorado$county, colorado$date), ]"
"0",""
"0","colorado$new_cases <- c(NA, diff(colorado$cases))"
"0","colorado$new_deaths <- c(NA, diff(colorado$deaths))"
"0",""
"0","most_total_cases <- colorado[colorado$date == my.date, ]"
"0","most_total_cases <- most_total_cases[order(-most_total_cases$cases), ][1:5, ]"
"0","most_total_cases <- most_total_cases[, c(""date"", ""county"", ""cases"")]"
"0",""
"0","most_new_cases <- colorado[colorado$date == my.date, ]"
"0","most_new_cases <- most_new_cases[order(-most_new_cases$new_cases), ][1:5, ]"
"0","most_new_cases <- most_new_cases[, c(""date"", ""county"", ""new_cases"")]"
"0",""
"0",""
"0","most_total_cases <- flextable(most_total_cases) %>% set_caption(""Most Total Cases"")"
"0","most_new_cases <- flextable(most_new_cases) %>% set_caption(""Most New Cases"")"
"0",""
"0",""
"0","most_total_cases"
