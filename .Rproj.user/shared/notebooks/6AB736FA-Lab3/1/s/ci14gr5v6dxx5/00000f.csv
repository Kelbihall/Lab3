"0","library(patchwork)"
"0",""
"0","county_centroids <- read_csv(""https://raw.githubusercontent.com/mikejohnson51/csu-ess-330/refs/heads/main/resources/county-centroids.csv"")"
"2","[1mRows: [22m[34m3221[39m [1mColumns: [22m[34m3[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (1): fips
[32mdbl[39m (2): LON, LAT"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"0","covid_with_location <- covid_data %>%"
"0","  inner_join(county_centroids, by = ""fips"")"
"0",""
"0","wm_center <- covid_with_location %>%"
"0","  group_by(date) %>%"
"0","  summarise("
"0",""
"0","    wmX_c = sum(LON * cases, na.rm = TRUE) / sum(cases, na.rm = TRUE),"
"0","    wmY_c = sum(LAT * cases, na.rm = TRUE) / sum(cases, na.rm = TRUE),"
"0","    total_cases = sum(cases, na.rm = TRUE),"
"0",""
"0","    wmX_d = sum(LON * deaths, na.rm = TRUE) / sum(deaths, na.rm = TRUE),"
"0","    wmY_d = sum(LAT * deaths, na.rm = TRUE) / sum(deaths, na.rm = TRUE),"
"0","    total_deaths = sum(deaths, na.rm = TRUE)"
"0","  ) %>%"
"0","  arrange(date) %>%"
"0","  mutate(day_index = row_number())  "
"0",""
"0","p_cases <- ggplot(wm_center) +"
"0","  borders(""state"", fill = ""gray90"", colour = ""white"") +  "
"0","  geom_point(aes(x = wmX_c, y = wmY_c, size = total_cases), color = ""red"", alpha = 0.5) +  "
"0","  theme_linedraw() +"
"0","  labs("
"0","    title = ""Weighted Center of COVID-19 Cases"","
"0","    x = """","
"0","    y = """","
"0","    size = ""Cases"""
"0","  ) +"
"0","  theme(legend.position = ""none"")"
"0",""
"0","p_deaths <- ggplot(wm_center) +"
"0","  borders(""state"", fill = ""gray90"", colour = ""white"") +  "
"0","  geom_point(aes(x = wmX_d, y = wmY_d, size = total_deaths), color = ""navy"", alpha = 0.5) + "
"0","  theme_linedraw() +"
"0","  labs("
"0","    title = ""Weighted Center of COVID-19 Deaths"","
"0","    x = """","
"0","    y = """","
"0","    size = ""Deaths"""
"0","  ) +"
"0","  theme(legend.position = ""none"")"
"0",""
"0","p_cases | p_deaths  "
"0",""
